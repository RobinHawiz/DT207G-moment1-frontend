(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();async function f(n,r={}){try{const o=await fetch(n,r);if(!o.ok){const e=o.headers.get("content-type");if(e&&e.includes("application/json"))throw await o.json();{const t=await o.text();throw new Error(`Request failed (${o.status}): ${t}`)}}return await o.json()}catch(o){throw o instanceof Error?o.message:o}}async function E(n){try{return await f("http://localhost:4000/courses/delete",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:n})})}catch(r){throw r}}function b(n){let r=document.querySelector("tbody");r&&r.remove();let o=document.querySelector("table"),s=document.createElement("tbody");const e=document.createDocumentFragment();n.forEach(({id:t,courseCode:a,courseName:h,progression:y,syllabus:g})=>{const d=document.createElement("tr");[a,h,y,t.toString()].forEach((u,p)=>{const i=document.createElement("td");if(p===0){const c=document.createElement("a");c.innerText=u,c.href=g,c.target="_blank",i.appendChild(c)}else if(p===3){const c=document.createElement("button");c.addEventListener("click",async()=>{try{const l=await E(t);m(),alert(l.message)}catch(l){console.log(l)}}),c.innerText="X",i.appendChild(c)}else i.innerText=u;d.appendChild(i)}),e.appendChild(d)}),s.appendChild(e),o.appendChild(s)}async function m(){const n=await f("http://localhost:4000/courses/",{method:"GET"});b(n)}m();
