(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();async function f(c,o={}){try{const r=await fetch(c,o);if(!r.ok)throw new Error(`Network error: ${r.status}`);return await r.json()}catch(r){throw new Error(`Fetch error: ${r.message}`)}}function y(c){let o=document.querySelector("tbody");o&&o.remove();let r=document.querySelector("table"),n=document.createElement("tbody");const e=document.createDocumentFragment();c.forEach(({courseCode:t,courseName:s,progression:a,syllabus:i})=>{const l=document.createElement("tr");[t,s,a].forEach((u,m)=>{const p=document.createElement("td");if(m===0){const d=document.createElement("a");d.innerText=u,d.href=i,d.target="_blank",p.appendChild(d)}else p.innerText=u;l.appendChild(p)}),e.appendChild(l)}),n.appendChild(e),r.appendChild(n)}function h(c){const o=document.querySelector("form");o.addEventListener("submit",e);const r=o.querySelector("#course-code"),n=o.querySelector("#progression");r.addEventListener("input",()=>{t(r,"")}),n.addEventListener("input",()=>{t(n,"")});async function e(s){s.preventDefault();const a=await f("http://localhost:4000/courses/",{method:"GET"});let i=!0,l=a.find(({courseCode:u})=>u===r.value);l&&(t(r,"Kurskoden finns redan. Var vänlig och ange en unik kurskod."),i=!1),!l&&!["A","B","C"].includes(n.value)&&(t(n,"Felaktig progression. Var vänlig och ange en korrekt progression: A, B eller C."),i=!1),i&&c(s)}function t(s,a){s.setCustomValidity(a),s.reportValidity()}}async function g(c){const o=c.target,r=o.querySelector("#course-code"),n=o.querySelector("#course-name"),e=o.querySelector("#progression"),t=r.value,s=n.value,a=e.value,u=await f("http://localhost:4000/courses/insert",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({courseCode:t,courseName:s,progression:a,syllabus:"https://www.youtube.com/watch?v=WIRK_pGdIdA&list=PLpQpolEIRhPtKIte1nTmjYcJCriNwj20L&ab_channel=doober43"})});alert(u.message)}async function v(){const c=await f("http://localhost:4000/courses/",{method:"GET"});y(c),h(g)}v();
